#!/usr/bin/env python3

import pandas as pd
import sys
from os.path import basename

if len(sys.argv) < 2:
    print('Usage:\n  {} [target] [mirna] [position]'.format(basename(sys.argv[0])))
    sys.exit(1)

pd.read_csv(sys.stdin, sep='\t')              \
  .set_index(['target', 'mirna', 'position']) \
  .drop(['location', 'probability'], axis=1)  \
  .groupby(sys.argv[1:])                      \
  .sum()                                      \
  .to_csv(sys.stdout, sep='\t')
